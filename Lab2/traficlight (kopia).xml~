<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>bool light = false;
chan direction[2];
int drive[2];
int id;
bool two_syncNS = false;
bool two_syncEW = false;</declaration><template><name x="5" y="5">Lights</name><parameter>const int i, const int dir</parameter><declaration>// Place local declarations here.
clock x;

</declaration><location id="id0" x="184" y="232"><name x="174" y="202">driving</name></location><location id="id1" x="488" y="-168"><name x="478" y="-198">wait</name></location><location id="id2" x="-160" y="-64"><name x="-170" y="-94">Nocar</name></location><init ref="id2"/><transition><source ref="id1"/><target ref="id0"/><label kind="guard" x="368" y="16">light == true and drive[dir] == 1</label></transition><transition><source ref="id0"/><target ref="id2"/><label kind="assignment" x="-48" y="84">id = 0</label><nail x="40" y="72"/></transition><transition><source ref="id1"/><target ref="id1"/><label kind="guard" x="464" y="-240">light == false</label><nail x="544" y="-200"/><nail x="496" y="-216"/></transition><transition><source ref="id2"/><target ref="id1"/><label kind="assignment" x="104" y="-116">id = i</label><nail x="104" y="-96"/></transition></template><template><name>Controller</name><declaration>clock timer;</declaration><location id="id3" x="16" y="152"><name x="6" y="122">WEgreen</name></location><location id="id4" x="336" y="-216"><name x="326" y="-246">NSgreen</name></location><location id="id5" x="-392" y="-88"><name x="-402" y="-118">Allred</name></location><init ref="id5"/><transition><source ref="id3"/><target ref="id3"/><label kind="guard" x="200" y="128">two_syncEW == false</label><label kind="assignment" x="192" y="160">two_syncEW = true, drive[1] = 0, drive[0] = 1</label><nail x="168" y="136"/><nail x="152" y="200"/></transition><transition><source ref="id4"/><target ref="id4"/><label kind="guard" x="288" y="-96">two_syncNS == false</label><label kind="assignment" x="296" y="-56">two_syncNS = true, drive[0] = 0, drive[1] = 1</label><nail x="296" y="-128"/><nail x="408" y="-120"/></transition><transition><source ref="id3"/><target ref="id3"/><label kind="guard" x="-40" y="176">id == 3 or id ==4</label><nail x="-112" y="192"/><nail x="-120" y="144"/></transition><transition><source ref="id4"/><target ref="id4"/><label kind="guard" x="480" y="-256">id == 1 or id == 2</label><nail x="496" y="-208"/><nail x="432" y="-288"/></transition><transition><source ref="id5"/><target ref="id3"/><label kind="guard" x="-200" y="-40">id == 3 or id == 4</label><label kind="assignment" x="-184" y="-72">light = true, drive[1] = 1, drive[0] = 0</label><nail x="-40" y="-32"/></transition><transition><source ref="id4"/><target ref="id5"/><label kind="guard" x="0" y="-344">two_syncNS== true</label><label kind="assignment" x="0" y="-368">light = false, two_syncNS = false, drive[0] = 0, drive[1] = 1</label><nail x="164" y="-378"/><nail x="-36" y="-370"/></transition><transition><source ref="id3"/><target ref="id5"/><label kind="guard" x="-376" y="0">two_syncEW == true</label><label kind="assignment" x="-400" y="24">light = false, two_syncEW = false</label></transition><transition><source ref="id5"/><target ref="id4"/><label kind="guard" x="0" y="-160">id==1 or id==2</label><label kind="assignment" x="-88" y="-184">light = true, drive[0] = 1, drive[1] = 0</label></transition></template><system>NS = Lights(1, 0);
SN = Lights(2, 0);
EW = Lights(3, 1);
WE = Lights(4, 1);

system NS, SN, EW, WE, Controller;</system></nta>